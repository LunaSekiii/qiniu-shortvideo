$controller-height: 48px;
// 毛玻璃效果
$glass: blur(20px) saturate(180%) brightness(0.6);

.player {
	position: relative;
	width: 100%;
	height: 100%;
	max-height: 100%;
	overflow: hidden;
	border-radius: $video-radius;
	box-shadow: 0 0 24px 0 rgba(0, 0, 0, 0.15),
		0 16px 36px 0px rgba(0, 0, 0, 0.15);
	@include flex($direction: column, $justify: center, $align: center);
	video {
		flex: 1;
		width: 100%;
		height: 100%;
		// max-height: calc(100% - $controller-height);
		object-fit: contain;
		background-size: cover;
		outline: none;
		backdrop-filter: $glass;
	}
	&::after {
		position: absolute;
		// top: $video-padding-top;
		left: 0;
		z-index: -1;
		width: 100%;
		height: 100%;
		// height: calc(85% - $video-padding-top - 50px);
		object-fit: fill;
		background: no-repeat center var(--video-bg);
		background-size: cover;
		border-radius: $video-radius;
		// 内圈阴影
		box-shadow: 0px 0px 30px 20px rgb(0, 0, 0, 0.7) inset;
		content: "";
	}
}

.controller {
	position: relative;
	width: 100%;
	height: 50px;
	min-height: $controller-height;
	line-height: 50px;
	// backdrop-filter: $glass;

	.progress-container {
		@include flex($direction: row, $align: center, $justify: space-between);
		gap: 12px;
		width: 100%;
		.time {
			font-size: small;
		}

		.progress {
			flex: 1;
			height: 4px;
			overflow: hidden;
			background: #808080;
			border-radius: 4px;
			cursor: pointer;
			opacity: 0.6;
			transition: transform 0.1s ease-out;
			div {
				width: 100%;
				height: 100%;
				background-color: #fff;
				transform: translateX(-100%);
			}
		}
		&:hover .progress {
			border-radius: 6px;
			transform: scaleY(1.5);
			transition: none;
		}
	}

	.progress-thumb {
		// position: absolute;
		z-index: 1;
		width: 12px;
		height: 12px;
		background: #fff;
		border-radius: 50%;
		// 预变换性能优化

		// transform: translateX(-50%);
		cursor: pointer;
		// transition: transform 0.1s;
		&:hover {
			transform: scale(1.5);
		}
	}
}
